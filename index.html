<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>std114514的小站</title>
<style>
:root{--bg:#f7f7f7;--fg:#333}
body{font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; margin:0; background:var(--bg); color:var(--fg)}
.wrap{display:flex;gap:20px;padding:20px}
.game{background:#fff;border-radius:8px;box-shadow:0 6px 18px rgba(0,0,0,0.06);padding:16px}
canvas{display:block;background:#f2f2f2;border-radius:4px}
.controls{margin-top:8px}
.score{font-weight:700;font-size:18px}
.lead{width:320px}
.lead h3{margin:0 0 8px}
.leaderboard{background:#fff;padding:12px;border-radius:8px;box-shadow:0 6px 18px rgba(0,0,0,0.06)}
input[type=text]{padding:6px;border:1px solid #ddd;border-radius:4px;width:160px}
button{padding:6px 10px;border-radius:6px;border:0;background:#111;color:#fff;cursor:pointer}
.small{font-size:12px;color:#666;margin-top:8px}
.row{display:flex;gap:8px;align-items:center}
ol{padding-left:18px;margin:6px 0}
</style>
</head>
<body>
<div class="wrap">
<div class="game">
<div style="display:flex;justify-content:space-between;align-items:center;">
<div class="score">分数: <span id="score">0</span></div>
<div class="small">按 空格 或 点击 以跳跃</div>
</div>
<canvas id="c" width="800" height="150"></canvas>
<div class="controls">
<button id="restart">重新开始</button>
<button id="submit">提交分数</button>
<div style="margin-top:8px">
<label>名字：<input id="name" type="text" placeholder="玩家名 (示例: Alice)"/></label>
</div>
</div>
</div>


<div class="lead">
<div class="leaderboard">
<h3>实时排行榜 (Top 10)</h3>
<div id="status">未连接到实时服务，使用本地排行榜</div>
<ol id="leaders"></ol>
<div class="small">若启用了服务器，排行榜会实时同步；若没有，分数保存在本地浏览器。</div>
</div>
</div>
</div>


<script>
// ------- 游戏核心（简化版本） -------
const canvas = document.getElementById('c');
const ctx = canvas.getContext('2d');
let scoreEl = document.getElementById('score');
let restartBtn = document.getElementById('restart');
let submitBtn = document.getElementById('submit');
let nameInput = document.getElementById('name');
let leadersList = document.getElementById('leaders');
let statusEl = document.getElementById('status');


const W = canvas.width, H = canvas.height;


// player
let player = {x:50, y:H-40, w:40, h:40, vy:0, grounded:true};
let gravity = 0.8;
let jumpPower = -12;


// obstacles
let obstacles = [];
let tick = 0;
let speed = 6;
let score = 0;
let running = true;


</html>
